(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3c1d"],{"0414":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"pt-3"},[a("b-col",[a("h1",[a("strong",[t._v("Block Visualisation")])])])],1),a("b-row",[a("b-col",{staticClass:"m-2",attrs:{md:""}},[a("b-row",[a("b-col",{attrs:{md:""}},[a("b-form-datepicker",{attrs:{id:"from_date_picker_block",disabled:t.from_picker_date_disabled||!0===t.api_busy,max:t.from_picker_date_max_value,min:t.from_picker_date_min_value,placeholder:"Retrieval Range Start Date",size:"lg"},model:{value:t.from_picker_date,callback:function(e){t.from_picker_date=e},expression:"from_picker_date"}})],1),a("b-col",{attrs:{md:"auto"}},[a("b-icon-arrow-right",{attrs:{"font-scale":"3"}})],1),a("b-col",{attrs:{md:""}},[a("b-form-datepicker",{attrs:{id:"to_date_picker_block",disabled:t.to_picker_date_disabled||!0===t.api_busy,max:t.to_picker_date_max_value,min:t.to_picker_date_min_value,placeholder:"Retrieval Range End Date",size:"lg"},model:{value:t.to_picker_date,callback:function(e){t.to_picker_date=e},expression:"to_picker_date"}})],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"mt-2",attrs:{disabled:t.import_button_disabled||!0===t.api_busy,block:"",variant:"primary"},on:{click:t.sunburst_date_range_importer}},[t._v(" Populate Graph")])],1)],1),t.sunburst_data?a("b-row",{staticClass:"mt-2 mb-2"},[a("b-col",[a("b-input-group",{attrs:{prepend:"Minimum Radian Display Value"}},[a("b-form-input",{attrs:{id:"range-2",type:"range",min:"0",max:"0.01",step:"0.00001"},model:{value:t.display_range,callback:function(e){t.display_range=e},expression:"display_range"}}),a("b-input-group-append",[a("b-input-group-text",{class:t.display_range<.001?"text-danger":"text-secondary"},[t._v(t._s(t.display_range.toFixed(5)))])],1)],1)],1)],1):t._e()],1)],1),t.sunburst_data?a("b-row",[a("b-col",[a("sunburst",{staticStyle:{"min-height":"60vmin"},attrs:{data:t.sunburst_data,minAngleDisplayed:t.string_to_value(t.display_range)},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.on,o=e.actions;return[a("highlightOnHover",t._b({},"highlightOnHover",{on:r,actions:o},!1)),a("zoomOnClick",t._b({},"zoomOnClick",{on:r,actions:o},!1))]}},{key:"top",fn:function(e){var r=e.nodes;return a("nodeInfoDisplayer",{attrs:{current:r.mouseOver,root:r.root,description:t.description(r.mouseOver),"show-all-number":!1}})}},{key:"legend",fn:function(e){var r=e.nodes,o=e.colorGetter,n=e.width;return a("breadcrumbTrail",{attrs:{colorGetter:o,current:t.current_node,from:r.clicked,root:r.root,width:n}})}}],null,!1,3200776031)})],1)],1):t._e()],1)},o=[],n=(a("99af"),a("b0c0"),a("a9e3"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("4449")),i=(a("59c2"),a("bc3a")),l=a.n(i),s={components:{breadcrumbTrail:n["breadcrumbTrail"],highlightOnHover:n["highlightOnHover"],nodeInfoDisplayer:n["nodeInfoDisplayer"],sunburst:n["sunburst"],zoomOnClick:n["zoomOnClick"]},data:function(){return{sunburst_data:null,current_node:null,total_value:0,from_picker_date:null,from_picker_date_disabled:!1,from_picker_date_max_value:null,from_picker_date_min_value:null,to_picker_date:null,to_picker_date_disabled:!1,to_picker_date_max_value:null,to_picker_date_min_value:null,import_button_disabled:!1,api_busy:!1,display_range:.005}},methods:{sunburst_date_range_importer:function(){var t=this;this.api_busy=!0,this.sunburst_data=null;var e="".concat(this.$root.api_combined_address,"/visualisation/sunburst?from=").concat(this.from_picker_date.toString(),"&to=").concat(this.to_picker_date.toString());console.log("Requesting visualisation data from ",e),l.a.get(e).then((function(e){t.sunburst_data=e.data,t.api_busy=!1})).catch((function(e){t.failed_error_message=e,console.log(e)}))},string_to_value:function(t){return Number(t)},description:function(t){console.log(t);var e="null";if(t){if(this.current_node=t,0===t.depth)return e="Total Value for Date Range: ",this.total_value=t.value,e+" ₿".concat((t.value/1e8).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));1===t.depth?e="".concat(t.data.name," Total: "):2===t.depth&&(e="Block ".concat(t.data.name," Total: "));var a=(this.total_value/1e8).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");e+=" ₿".concat((t.value/1e8).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," / ₿").concat(a)}return e},test:function(t){console.log(t)}},computed:{}},c=s,d=a("2877"),_=Object(d["a"])(c,r,o,!1,null,"d8b0176e",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0a3c1d.e940c93a.js.map